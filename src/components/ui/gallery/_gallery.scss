@use "../../../styles/abstracts" as *;

.image-gallery {
    position: relative;

    /* =========================
     VIEWPORT & SLIDES
  ========================= */

    &__viewport {
        overflow: hidden;
    }

    &__container {
        display: flex;
    }

    &__slide {
        position: relative;
        flex: 0 0 100%;
        aspect-ratio: 16 / 9;
        cursor: zoom-in;

        img {
            object-fit: cover;
        }
    }

    /* =========================
     THUMBNAILS
  ========================= */

    &__thumbs {
        position: absolute;
        width: max-content;
        left: 50%;
        bottom: 10px;
        transform: translateX(-50%);
        z-index: 3;

        display: flex;
        gap: space(xs);
        //margin-top: space(sm);
        padding: space(xs) space(xs);

        background-color: rgba(0, 0, 0, 0.15);
        backdrop-filter: blur(5px);
        border-radius: radius(md);
    }

    &__thumb {
        padding: 0;
        border: none;
        background: none;
        cursor: pointer;
        opacity: 0.5;
        transition: opacity 0.2s ease;

        img {
            display: block;
            border-radius: radius(md);
        }

        &:hover {
            opacity: 0.75;
        }

        &.is-active {
            opacity: 1;
            outline: 2px solid $color-border;
            //outline-offset: 2px;
            border-radius: radius(md);
            //outline: 2px solid rgba(255, 255, 255, 0.9);
            outline-offset: -2px;

        }
    }

    /* =========================
     ARROWS (DESKTOP ONLY)
  ========================= */

    &__arrow {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        z-index: z(header);
        width: 40px;
        height: 40px;
        border-radius: 50%;
        border: none;
        background-color: rgba(0, 0, 0, 0.5);
        color: #fff;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;

        &:hover {
            background-color: rgba(0, 0, 0, 0.7);
        }

        &--prev {
            left: space(sm);
        }

        &--next {
            right: space(sm);
        }
    }

    /* =========================
     MOBILE / TABLET
  ========================= */

    @include down(md) {
        &__arrow {
            display: none;
        }
    }


    /* ===============================
     DOTS – DEFAULT (DESKTOP)
  ================================ */

    &__dots {
        display: none; // desktop: ascuns
        position: absolute;
        left: 50%;
        bottom: 12px;
        transform: translateX(-50%);
        z-index: 999;
        pointer-events: none;
        gap: 10px;
    }

    &__dot {
        width: 6px;
        height: 6px;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.35);
        transition: transform 0.2s ease, background 0.2s ease;

        &.is-active {
            background: #fff;
            transform: scale(1.6);
        }
    }

    /* ===============================
     MOBILE / TABLET
  ================================ */

    @include down(md) {
        &__thumbs {
            display: none;
        }

        &__dots {
            display: flex; // mobile: ● ● ●
        }

        &__viewport {
            overflow: visible;
        }
    }

}

@include down(md) {
    .image-gallery {
        &__thumbs {
            display: none;
        }

        &__arrow {
            display: none !important;
        }
    }
}

/* =====================================
   PHOTOSWIPE – THUMBNAILS
   Desktop only
===================================== */

.pswp__thumbs {
    display: flex;
}

@include down(md) {
    .pswp__thumbs {
        display: none !important;
    }
}

/* =====================================
   PHOTOSWIPE – HIDE ARROWS ON MOBILE
===================================== */

@include down(md) {

    .pswp__button--arrow--prev,
    .pswp__button--arrow--next {
        display: none !important;
    }
}